<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--

    Copyright (c) 2018, 2020 Oracle and/or its affiliates. All rights reserved.

    This program and the accompanying materials are made available under the
    terms of the Eclipse Public License v. 2.0, which is available at
    http://www.eclipse.org/legal/epl-2.0.

    This Source Code may also be made available under the following Secondary
    Licenses when the conditions for such availability set forth in the
    Eclipse Public License v. 2.0 are satisfied: GNU General Public License,
    version 2 with the GNU Classpath Exception, which is available at
    https://www.gnu.org/software/classpath/license.html.

    SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0

-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<title>Release Notes Java Technology Compatibility Kit for Java Architecture for XML Binding, Release 2.3</title>
<meta name="doctitle" content="Release Notes Java Technology Compatibility Kit for Java Architecture for XML Binding, Release 2.3" />
<meta name="relnum" content="Release 2.3" />
<meta name="partnum" content="E68007-01" />
<meta name="docid" content="JAXRN" />
<meta name="brand" content="DARB" />
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="plugin" content="Infodev XHTML plugin release 17.2.1" />
<meta name="date" content="2017-04-25T02:21:53Z" />
<meta name="robots" content="noarchive" />
<link rel="copyright" href="doc/dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="stylesheet" href="doc/dcommon/css/blafdoc.css" title="Oracle BLAFDoc" type="text/css" />
</head>
<body><div class="header"><a id="top" name="top"></a><div class="zz-skip-header"><a href="#BEGIN">Skip Headers</a></div><table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%"><tr><td align="left" valign="top"><b>Release Notes Java Technology Compatibility Kit for Java Architecture for XML Binding </b><br /><b><span>Release 2.3</span></b><br />E68007-01</td><td valign="bottom" align="right"><table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="225"><tr><td>&nbsp;</td></tr></table></td></tr></table><hr /><table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100"><tr><td>&nbsp;</td></tr></table>
<a name="BEGIN" id="BEGIN"></a>
</div>
<!-- class="header" -->
<div class="ind"><!-- End Header -->
<div class="letterstyle">
<h1><span>Release Notes</span></h1>
<p class="booktitle"><span>Java Technology Compatibility Kit for Java Architecture for XML Binding </span></p>
<p><span class="revnumber"><span>Release 2.3</span></span></p><p class="invpartnumber">E68007-01</p><p class="date">August 2017</p><div><div><p></p>
<p></p>
</div>
</div>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a name="GUID-C961128C-5574-406F-8A99-30E7849BFDFE" id="GUID-C961128C-5574-406F-8A99-30E7849BFDFE"></a><h2 id="JAXRN-GUID-C961128C-5574-406F-8A99-30E7849BFDFE" class="sect2">Table of Contents</h2>
<div><ul style="list-style-type: disc;"><li><p><a href="#GUID-23909936-FFE1-4EA5-B0F5-2F406F09CD90">Introduction</a></p>
<ul style="list-style-type: disc;"><li><p><a href="#GUID-BC965290-F8B7-4728-8A29-2EAA3ABA17E2">Release Contents</a></p>
</li>
<li><p><a href="#GUID-F7A1E53C-B556-48AA-B966-E30A13D59952">New Features and Improvements</a></p>
</li>
</ul>
</li>
<li><p><a href="#GUID-80DB7549-03A8-4993-821E-A0AAECE0F694">Known Issue</a></p>
</li>
<li><p><a href="#GUID-F29545FE-BF7A-4C48-BE20-79722EC0627B">Usage Notes</a></p>
</li>
</ul>
</div>
</div>

<div class="sect2"><!-- infolevel="all" infotype="General" --><a name="GUID-23909936-FFE1-4EA5-B0F5-2F406F09CD90" id="GUID-23909936-FFE1-4EA5-B0F5-2F406F09CD90"></a><h2 id="JAXRN-GUID-23909936-FFE1-4EA5-B0F5-2F406F09CD90" class="sect2">Introduction</h2>
<div><p></p>
<p>The <span>Java Architecture for XML Binding</span> Technology Compatibility Kit (<span>JAXB TCK</span>) <span>2.3</span> is a test suite and a set of tools that is used to certify that a <span>JAXB</span> <span>2.3</span> implementation conforms to <span><a href="https://jcp.org/en/jsr/detail?id=222" target="_blank">JSR-222</a></span> and to the <span>JAXB</span> <span>2.3</span> Reference Implementation (RI). The test suite exercises assertions are described in the <span>JAXB</span> <span>2.3</span> specification and implemented in the <span>JAXB TCK</span> <span>2.3</span> RI software. The <span>JAXB TCK</span> uses the JavaTest <span>5.0</span> test harness and test suite management tools.</p>
</div>
</div>

<div class="sect3"><!-- infolevel="all" infotype="General" --><a name="GUID-BC965290-F8B7-4728-8A29-2EAA3ABA17E2" id="GUID-BC965290-F8B7-4728-8A29-2EAA3ABA17E2"></a><h3 id="JAXRN-GUID-BC965290-F8B7-4728-8A29-2EAA3ABA17E2" class="sect3">Release Contents</h3>
<div><p>This release contains updates to the following: </p>
<div class="p"><ul style="list-style-type: disc;"><li><p>Tests</p>
</li>
<li><p>Exclude list</p>
</li>
<li><p>Documentation</p>
</li>
<li><p>Tools</p>
</li>
</ul>
</div>
<p>Refer to the <span>JAXB TCK</span> <span>2.3</span> User Guide for a complete list of directories included in the TCK installation.</p>
</div>
</div>

<div class="sect3"><!-- infolevel="all" infotype="General" --><a name="GUID-F7A1E53C-B556-48AA-B966-E30A13D59952" id="GUID-F7A1E53C-B556-48AA-B966-E30A13D59952"></a><h3 id="JAXRN-GUID-F7A1E53C-B556-48AA-B966-E30A13D59952" class="sect3">New Features and Improvements</h3>
<div><p>This release contains the following features and improvements:</p>
<ul style="list-style-type: disc;"><li><p>JAX-B Plugability Layer to locate an implementation or service provider with the help of <code class="codeph">java.util.ServiceLoader</code></p>
</li>
<li><p>Additional test coverages</p>
</li>
</ul>
</div>
</div>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a name="GUID-80DB7549-03A8-4993-821E-A0AAECE0F694" id="GUID-80DB7549-03A8-4993-821E-A0AAECE0F694"></a><h2 id="JAXRN-GUID-80DB7549-03A8-4993-821E-A0AAECE0F694" class="sect2">Known Issues</h2>
<ul style="list-style-type: disc;">
<li>
<div><p>If necessary, extra options can be passed to the development tools (such as schema compiler, schema generator, and so on) from these interview question values:</p>
<div class="p"><pre class="oac_no_warn" dir="ltr">jck.env.devtools.testExecute.otherOpts 
jck.env.devtools.refExecute.otherOpts </pre>
For example, for the Oracle RI, the following values provide resources that are required by the JCK tests: <pre class="oac_no_warn" dir="ltr">jck.env.devtools.testExecute.otherOpts=--add-modules jdk.xml.ws,jdk.xml.bind,java.se.ee,ALL-SYSTEM --add-exports jdk.xml.bind/com.sun.tools.internal.xjc=ALL-UNNAMED 
jck.env.devtools.refExecute.otherOpts=--add-modules jdk.xml.ws,jdk.xml.bind,java.se.ee,ALL-SYSTEM --add-exports jdk.xml.bind/com.sun.tools.internal.xjc=ALL-UNNAMED </pre>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a name="GUID-F29545FE-BF7A-4C48-BE20-79722EC0627B" id="GUID-F29545FE-BF7A-4C48-BE20-79722EC0627B"></a><h2 id="JAXRN-GUID-F29545FE-BF7A-4C48-BE20-79722EC0627B" class="sect2">Usage Notes</h2>
<div><p>This section covers the following topics:</p>
<ul style="list-style-type: disc;"><li><p><a href="#GUID-CCA7E48C-C1AF-4F90-8140-DF63EAB6F035">Schema Compiler</a></p>
<ul style="list-style-type: disc;"><li><p><a href="#GUID-D841D584-A20E-48B8-BC95-8F2F53F06C05">Running a Schema Compiler in MultiJVM Execution Mode</a></p>
</li>
<li><p><a href="#GUID-29180886-94F8-498F-8CC1-60F63C9B068F">Sample Scripts for Running the Reference Schema Compiler</a></p>
</li>
<li><p><a href="#GUID-0482E702-1C77-4A74-BEEE-39BD974F9F20">Running a Schema Compiler in SingleJVM Execution Mode</a></p>
</li>
<li><p><a href="#GUID-1399CAF9-88CF-4235-98F7-FCD64CB52450">Sample Class for Running the Reference Schema Compiler</a></p>
</li>
</ul>
</li>
<li><p><a href="#GUID-2EBEB5B2-3297-4953-9460-D1A0417E7BD4">Schema Generator</a></p>
<ul style="list-style-type: disc;"><li><p><a href="#GUID-9F39C055-514F-453A-9B00-49DE4417981C">Running a Schema Generator in MultiJVM Execution Mode</a></p>
</li>
<li><p><a href="#GUID-0306C809-D32C-45B9-B53C-0B3DBF9D88C8">Sample Scripts for Running the Reference Schema Generator</a></p>
</li>
<li><p><a href="#GUID-A4EA6221-49E0-41E6-9013-CEB6AC6CCB2F">Running a Schema Generator in singleJVM Execution Mode</a></p>
</li>
<li><p><a href="#GUID-54C2E64E-D70A-4E6C-9C4B-9A986381EB96">Sample Class for Running the Reference Schema Generator</a></p>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div class="sect3"><!-- infolevel="all" infotype="General" --><a name="GUID-CCA7E48C-C1AF-4F90-8140-DF63EAB6F035" id="GUID-CCA7E48C-C1AF-4F90-8140-DF63EAB6F035"></a><h3 id="JAXRN-GUID-CCA7E48C-C1AF-4F90-8140-DF63EAB6F035" class="sect3">Schema Compiler</h3>
<div><div class="section"><p>A wrapper for a Schema Compiler under test should compile XML schema files into Java class files.</p>
</div>
<!-- class="section" -->
</div>
</div>

<div class="sect4"><!-- infolevel="all" infotype="General" --><a name="GUID-D841D584-A20E-48B8-BC95-8F2F53F06C05" id="GUID-D841D584-A20E-48B8-BC95-8F2F53F06C05"></a><h4 id="JAXRN-GUID-D841D584-A20E-48B8-BC95-8F2F53F06C05" class="sect4">Running a Schema Compiler in <code class="codeph">MultiJVM</code> Execution Mode</h4>
<div><div class="section"><p>In <code class="codeph">MultiJVM</code> execution mode, the schema compiler is invoked as a separate process for each test requiring schema compilation. The TCK invokes the wrapper script for the schema compiler using the <code class="codeph">java.lang.Runtime.exec(String[] cmdarray, String[] envp)</code> method, where <code class="codeph">cmdarray</code> contains the following parameters:</p>
<pre class="oac_no_warn" dir="ltr">command [<span class="italic">classpath_option valueC</span>] package_option valueP outputdir_option valueD [<span class="italic">extra_options</span>] schema_file</pre>
<p>Optional parameters are enclosed in square brackets ([]).</p>
<ul style="list-style-type: disc;"><li><p><code class="codeph">command</code> : The path to a Wrapper-to-Schema Compiler; you can specify this parameter in the test harness configuration editor.</p>
</li>
<li><p><code><span class="codeinlineitalic">classpath_option</span></code>: The name of optional classpath ; you can specify this parameter in the test harness configuration editor or by using an environment variable.</p>
</li>
<li><p><code class="codeph">valueC</code>: The value of the <code><span class="codeinlineitalic">classpath_option</span></code> is constructed by the TCK.</p>
</li>
<li><p><code class="codeph">package_option</code>: The package option name; you can specify this parameter in the test harness configuration editor.</p>
</li>
<li><p><code class="codeph">valueP</code>: The value of the <code class="codeph">package_option</code> is constructed by the TCK.</p>
</li>
<li><p><code class="codeph">outputdir_option</code>: The output directory option name; you can specify this parameter in the test harness configuration editor.</p>
</li>
<li><p><code class="codeph">valueD</code>: The value of the <code class="codeph">outputdir_option</code> is constructed by the TCK.</p>
</li>
<li><p><code class="codeph">extra_options</code>: Additional options and their values; you can specify these parameters in the test harness configuration editor.</p>
</li>
<li><p><code class="codeph">schema_file</code>: The path constructed by the TCK to the schema to be compiled.</p>
</li>
</ul>
<p>Use the test harness configuration editor to specify the following values for the <code class="codeph">envp</code> parameter:</p>
<ul style="list-style-type: disc;"><li><p><code class="codeph">CLASSPATH</code> environment variable; this is an alternative to the <code class="codeph">classpath</code> option. The configuration editor lets you choose between these two alternatives.</p>
</li>
<li><p>Additional environment variables, as required.</p>
</li>
</ul>
</div>
<!-- class="section" -->
</div>
</div>

<div class="sect4"><!-- infolevel="all" infotype="General" --><a name="GUID-29180886-94F8-498F-8CC1-60F63C9B068F" id="GUID-29180886-94F8-498F-8CC1-60F63C9B068F"></a><h4 id="JAXRN-GUID-29180886-94F8-498F-8CC1-60F63C9B068F" class="sect4">Sample Scripts for Running the Reference Schema Compiler</h4>
<div><div class="section"><p>The <span>JAXB TCK</span> provides two sample scripts, which work for the <span>JAXB</span> Reference Implementation (RI) and can be used to develop scripts for other <span>JAXB</span> implementations:</p>
<ul style="list-style-type: disc;"><li><p><code class="codeph">solaris/bin/xjc.sh</code> (<code class="codeph">linux/bin/xjc.sh</code>, <code class="codeph">macos/bin/xjc.sh</code>): The <code class="codeph">ksh</code> script that is used to run TCK tests with the <span>JAXB</span> RI on Solaris or Linux platforms. The script accepts the following options:</p>
<ul style="list-style-type: disc;"><li><p><code class="codeph">-d &lt;DIR_NAME&gt;</code>: The path to the output directory</p>
</li>
<li><p><code class="codeph">-p &lt;PACKAGE_NAME&gt;</code>: The package name to which generated Java classes should belong</p>
</li>
<li><p><code class="codeph">-javac &lt;PACKAGE_NAME&gt; </code>: The optional parameter, which is an alternative path to the Java compiler used to compile generated Java sources</p>
</li>
</ul>
<p>The script also requires the following environment variables to be set:</p>
<ul style="list-style-type: disc;"><li><p><code class="codeph">JAVA_HOME</code>: The path to the reference Java</p>
</li>
<li><p><code class="codeph">JAXB_HOME</code>: The path to the <span>JAXB</span> RI</p>
</li>
<li><p><code class="codeph">CLASSPATH</code>: The classpath required for TCK tests</p>
</li>
</ul>
</li>
<li><p><code class="codeph">win32/bin/xjc.bat</code>: The Windows batch script that is similar to the script described above</p>
</li>
</ul>
</div>
<!-- class="section" -->
</div>
</div>

<div class="sect4"><!-- infolevel="all" infotype="General" --><a name="GUID-0482E702-1C77-4A74-BEEE-39BD974F9F20" id="GUID-0482E702-1C77-4A74-BEEE-39BD974F9F20"></a><h4 id="JAXRN-GUID-0482E702-1C77-4A74-BEEE-39BD974F9F20" class="sect4">Running a Schema Compiler in <code class="codeph">SingleJVM</code> Execution Mode</h4>
<div><div class="section"><p>In <code class="codeph">singleJVM</code> execution mode, all invocations of a schema compiler are made from the JavaTest agent running in the same Java Virtual Machine (JVM).</p>
<p>A wrapper class for the schema compiler should implement the method with the following signature:</p>
<pre class="oac_no_warn" dir="ltr">public int &lt;compile_method&gt;(String[] args, java.io.PrintStream out, java.io.PrintStream err)</pre>
<p>where <code class="codeph">args</code> contains the following parameters (optional parameters are enclosed in square brackets [ ]):</p>
<pre class="oac_no_warn" dir="ltr">package_option valueP outputdir_option valueD [extra_options] schema_file</pre>
<ul style="list-style-type: disc;"><li><p><code class="codeph">package_option</code>: The package option name; you can specify the parameter in the test harness configuration editor.</p>
</li>
<li><p><code class="codeph">valueP</code>: The value of the <code class="codeph">package_option</code> is constructed by the TCK.</p>
</li>
<li><p><code class="codeph">outputdir_option</code>: The output directory option name; you can specify this parameter in the test harness configuration editor.</p>
</li>
<li><p><code class="codeph">valueD</code>: The value of the <code class="codeph">outputdir_option</code> is constructed by the TCK.</p>
</li>
<li><p><code class="codeph">extra_options</code>: The additional options and their values; you can specify these parameters in the test harness configuration editor.</p>
</li>
<li><p><code class="codeph">schema_file </code>: The path constructed by the TCK to the schema to be compiled.</p>
</li>
</ul>
<p>You specify the wrapper class name and the method name in the test harness configuration editor. You should compile the wrapper class before test execution.</p>
</div>
<!-- class="section" -->
</div>
</div>

<div class="sect4"><!-- infolevel="all" infotype="General" --><a name="GUID-1399CAF9-88CF-4235-98F7-FCD64CB52450" id="GUID-1399CAF9-88CF-4235-98F7-FCD64CB52450"></a><h4 id="JAXRN-GUID-1399CAF9-88CF-4235-98F7-FCD64CB52450" class="sect4">Sample Class for Running the Reference Schema Compiler</h4>
<div><div class="section"><p>The <span>JAXB TCK</span> provides sample wrapper class, <code class="codeph">src/share/classes/com/sun/jaxb_tck/lib/Xjc.java</code>, which works for the <span>JAXB</span> RI and can be used to develop wrapper classes for other <span>JAXB</span> implementations. </p>
<p>The class provides the following method:</p>
<pre class="oac_no_warn" dir="ltr">public int compile(String[] args, PrintStream out, PrintStream err)</pre>
<p>This method supports the following <code class="codeph">args</code>:</p>
<ul style="list-style-type: disc;"><li><p><code class="codeph">-d &lt;DIR_NAME&gt;</code>: Path to the output directory</p>
</li>
<li><p><code class="codeph">-p &lt;PACKAGE_NAME&gt;</code>: Package name to which generated Java classes should belong</p>
</li>
<li><p><code class="codeph">extra_options</code>: Other options to pass to reference schema compiler</p>
</li>
</ul>
</div>
<!-- class="section" -->
</div>
</div>

<div class="sect3"><!-- infolevel="all" infotype="General" --><a name="GUID-2EBEB5B2-3297-4953-9460-D1A0417E7BD4" id="GUID-2EBEB5B2-3297-4953-9460-D1A0417E7BD4"></a><h3 id="JAXRN-GUID-2EBEB5B2-3297-4953-9460-D1A0417E7BD4" class="sect3">Schema Generator</h3>
<div><div class="section"><p>A wrapper for a schema generator under test should compile Java source files into XML schemas.</p>
</div>
<!-- class="section" -->
</div>
</div>

<div class="sect4"><!-- infolevel="all" infotype="General" --><a name="GUID-9F39C055-514F-453A-9B00-49DE4417981C" id="GUID-9F39C055-514F-453A-9B00-49DE4417981C"></a><h4 id="JAXRN-GUID-9F39C055-514F-453A-9B00-49DE4417981C" class="sect4">Running a Schema Generator in <code class="codeph">MultiJVM</code> Execution Mode</h4>
<div><div class="section"><p>In <code class="codeph">multiJVM</code> execution mode, a schema generator is invoked as a separate process for each test requiring schema generation. The TCK invokes a wrapper script for a schema generator using the <code class="codeph">java.lang.Runtime.exec(String[] cmdarray, String[] envp)</code> method, where <code class="codeph">cmdarray</code> contains the following parameters:</p>
<pre class="oac_no_warn" dir="ltr">command <span class="italic">[classpath_option valueC]</span> package_option valueP outputdir_option valueD <span class="italic">[extra_options]</span> java_file</pre>
<p>Optional parameters are enclosed in square brackets ([]).</p>
<ul style="list-style-type: disc;"><li><p><code class="codeph">command</code>: The path to a wrapper to schema generator; you can specify the parameter in the test harness configuration editor.</p>
</li>
<li><p><code><span class="codeinlineitalic">classpath_option</span></code>: The name of optional classpath; you can specify the parameter in the test harness configuration editor or by using an environment variable.</p>
</li>
<li><p><code class="codeph">valueC</code>: The value of the <code class="codeph">classpath_option</code> is constructed by the TCK.</p>
</li>
<li><p><code class="codeph">package_option</code>: The package option name; you can specify this parameter in the test harness configuration editor.</p>
</li>
<li><p><code class="codeph">valueP</code>: The value of the <code class="codeph">package_option</code> is constructed by the TCK.</p>
</li>
<li><p><code class="codeph">outputdir_option</code>: The output directory option name; you can specify this parameter in the test harness configuration editor.</p>
</li>
<li><p><code class="codeph">valueD</code>: The value of the <code class="codeph">outputdir_option</code> is constructed by the TCK.</p>
</li>
<li><p><code><span class="codeinlineitalic">extra_options</span></code>: The additional options and their values; you can specify these parameters in the test harness configuration editor.</p>
</li>
<li><p><code class="codeph">java_file</code>: The path constructed by the TCK to the <code class="codeph">java</code> source to be compiled into schema. </p>
</li>
</ul>
<p>You can use the test harness configuration editor to specify the following values for the <code class="codeph">envp</code> parameter:</p>
<ul style="list-style-type: disc;"><li><p><code class="codeph">CLASSPATH </code> environment variable, which is an alternative to the class path option. The configuration editor lets you choose between these two alternatives.</p>
</li>
<li><p>Additional environment variables, as required.</p>
</li>
</ul>
</div>
<!-- class="section" -->
</div>
</div>

<div class="sect4"><!-- infolevel="all" infotype="General" --><a name="GUID-0306C809-D32C-45B9-B53C-0B3DBF9D88C8" id="GUID-0306C809-D32C-45B9-B53C-0B3DBF9D88C8"></a><h4 id="JAXRN-GUID-0306C809-D32C-45B9-B53C-0B3DBF9D88C8" class="sect4">Sample Scripts for Running the Reference Schema Generator</h4>
<div><div class="section"><p>The TCK provides two sample scripts, which work with the <span>JAXB</span> RI and can be used to develop scripts for other <span>JAXB</span> implementations:</p>
<ul style="list-style-type: disc;"><li><p><code class="codeph">solaris/bin/schemagen.sh</code> (<code class="codeph">linux/bin/schemagen.sh</code>, <code class="codeph">macos/bin/schemagen.sh</code>): The <code class="codeph">ksh</code> script that is used to run the TCK tests with the <span>JAXB</span> RI on Solaris or Linux platforms. This script also requires the following environment variables to be set:</p>
<ul style="list-style-type: disc;"><li><p><code class="codeph">JAVA_HOME</code>: The path to reference Java</p>
</li>
<li><p><code class="codeph">JAXB_HOME</code>: The path to <span>JAXB</span> RI</p>
</li>
<li><p><code class="codeph">CLASSPATH</code>: The classpath required for TCK tests</p>
</li>
</ul>
</li>
<li><p><code class="codeph">win32/bin/schemagen.bat</code>: The Windows batch script that is similar to the script described above</p>
</li>
</ul>
</div>
<!-- class="section" -->
</div>
</div>

<div class="sect4"><!-- infolevel="all" infotype="General" --><a name="GUID-A4EA6221-49E0-41E6-9013-CEB6AC6CCB2F" id="GUID-A4EA6221-49E0-41E6-9013-CEB6AC6CCB2F"></a><h4 id="JAXRN-GUID-A4EA6221-49E0-41E6-9013-CEB6AC6CCB2F" class="sect4">Running a Schema Generator in <code class="codeph">singleJVM</code> Execution Mode</h4>
<div><div class="section"><p>In <code class="codeph">singleJVM</code> execution mode, all invocations of a schema generator are made from the JavaTest agent running in the same JVM.</p>
<p>A wrapper class to a schema compiler should implement the method with the following signature:</p>
<pre class="oac_no_warn" dir="ltr">public int &lt;generate_method&gt;(String[] args, java.io.PrintStream out, java.io.PrintStream err)</pre>
<p>where <code class="codeph">args</code> contains the following parameters:</p>
<code class="codeph">package_option valueP outputdir_option valueD [extra_options] java_file</code><p>Optional parameters are enclosed in square brackets ([]).</p>
<ul style="list-style-type: disc;"><li><p><code class="codeph">package_option</code>: The package option name; you can specify this parameter in the test harness configuration editor.</p>
</li>
<li><p><code class="codeph">valueP</code>: The value of the <code class="codeph">package_option</code> is constructed by the TCK.</p>
</li>
<li><p><code class="codeph">outputdir_option</code>: The output directory option name; you can specify this parameter in the test harness configuration editor.</p>
</li>
<li><p><code class="codeph">valueD</code>: The value of the <code class="codeph">outputdir_option</code> is constructed by the TCK.</p>
</li>
<li><p><code class="codeph">extra_options</code>: The additional options and their values; you can specify these parameters in the test harness configuration editor.</p>
</li>
<li><p><code class="codeph">java_file</code>: The path constructed by the TCK to the <code class="codeph">java</code> source to be compiled into schema.</p>
</li>
</ul>
<p>You specify the wrapper class name and the method name in the test harness configuration editor. You should compile the wrapper class before test execution.</p>
</div>
<!-- class="section" -->
</div>
</div>

<div class="sect4"><!-- infolevel="all" infotype="General" --><a name="GUID-54C2E64E-D70A-4E6C-9C4B-9A986381EB96" id="GUID-54C2E64E-D70A-4E6C-9C4B-9A986381EB96"></a><h4 id="JAXRN-GUID-54C2E64E-D70A-4E6C-9C4B-9A986381EB96" class="sect4">Sample Class for Running the Reference Schema Generator</h4>
<div><div class="section"><p>The TCK provides sample wrapper class, <code class="codeph">src/share/classes/com/sun/jaxb_tck/lib/SchemaGen.java</code>, which works for the <span>JAXB</span> RI and can be used to develop wrapper classes for other <span>JAXB</span> implementations. The class provides the following method:</p>
<pre class="oac_no_warn" dir="ltr">public int generate(String[] args, PrintStream out, PrintStream err)</pre>
<p>The method supports the following <code class="codeph">args</code> parameters:</p>
<ul style="list-style-type: disc;"><li><p><code class="codeph">-d &lt;DIR_NAME&gt;</code>: Path to the output directory</p>
</li>
<li><p><code class="codeph">-p &lt;PACKAGE_NAME&gt;</code>: Package name to which generated schema should belong</p>
</li>
<li><p><code class="codeph">extra_options </code>: Other options to pass to reference schema generator</p>
</li>
</ul>
</div>
<!-- class="section" -->
</div>
</div>
</div>
<hr />
<div class="notices"><p><span>Release Notes</span>
<span>Java Technology Compatibility Kit for Java Architecture for XML Binding </span>,
<span>Release 2.3</span></p>
</div>

</div></body></html>

